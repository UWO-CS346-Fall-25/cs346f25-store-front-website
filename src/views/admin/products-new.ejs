<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head', {
  title: 'Admin Â· New Product',
  cssFiles: ['admin.css'],
  scripts: []
}) %>
<body>
  <%- include('../partials/navbar') %>

  <main id="main-content">
    <section class="section" aria-labelledby="admin-create-product-heading">
      <div class="container">

        <!-- Page header -->
        <div class="section__header admin-page-header">
          <div>
            <p class="muted">
              <a href="/admin/products" class="link">&larr; Back to products</a>
            </p>
            <h1 id="admin-create-product-heading" class="section__title">
              Create product
            </h1>
            <p class="muted">
              Add a new item to your storefront. You can edit images and details later.
            </p>
          </div>
        </div>

        <% if (flash && (flash.error || flash.success)) { %>
          <div class="admin-alert-wrapper">
            <% if (flash.error) { %>
              <div class="admin-alert admin-alert--error" role="alert">
                <span><%= flash.error %></span>
              </div>
            <% } %>
            <% if (flash.success) { %>
              <div class="admin-alert admin-alert--success" role="status">
                <span><%= flash.success %></span>
              </div>
            <% } %>
          </div>
        <% } %>
        
        <!-- Form panel -->
        <section class="admin-panel">
          <form method="post" action="/admin/products/create" class="admin-form">
            <% if (csrfToken) { %>
              <input type="hidden" name="_csrf" value="<%= csrfToken %>">
            <% } %>

            <div class="admin-form-grid">
              <!-- Left column: main product info -->
              <div class="admin-form-column">
                <h2 class="admin-panel-subtitle">Basics</h2>
                <p class="muted">
                  Core details customers will see on product cards and detail pages.
                </p>

                <div class="form-row">
                  <div>
                    <label for="name">Name</label>
                    <input
                      id="name"
                      name="name"
                      type="text"
                      required
                      autocomplete="off"
                      placeholder="Cozy forest raccoon mug">
                  </div>
                </div>

                <div class="form-row">
                  <div>
                    <label for="slug">
                      Slug
                      <span class="muted">(optional, auto if left blank)</span>
                    </label>
                    <input
                      id="slug"
                      name="slug"
                      type="text"
                      autocomplete="off"
                      placeholder="cozy-forest-raccoon-mug">
                  </div>
                </div>

                <div class="form-row form-row--split">
                  <div>
                    <label for="price_cents">Price</label>
                    <!-- keep name="price" if your controller expects decimal dollars -->
                    <input
                      id="price_cents"
                      name="price"
                      type="number"
                      min="0"
                      step="0.01"
                      inputmode="decimal"
                      required
                      placeholder="24.00">
                  </div>

                  <div>
                    <label for="currency">Currency</label>
                    <select id="currency" name="currency">
                      <option value="USD" selected>USD</option>
                      <!-- Add more if needed -->
                    </select>
                  </div>
                </div>

                <div class="form-row form-row--split">
                  <div>
                    <label for="status">Status</label>
                    <select id="status" name="status">
                      <option value="draft" selected>Draft</option>
                      <option value="active">Active</option>
                      <option value="archived">Archived</option>
                    </select>
                    <p class="field-hint muted">
                      Drafts are hidden unless you activate them.
                    </p>
                  </div>

                  <div class="form-field-toggle">
                    <label class="checkbox-inline">
                      <input
                        type="checkbox"
                        name="is_active"
                        value="true"
                        checked>
                      <span>Show this product in the shop</span>
                    </label>
                    <p class="field-hint muted">
                      You can turn this off to temporarily hide it.
                    </p>
                  </div>
                </div>

                <div class="form-row">
                  <div>
                    <label for="description">Short description</label>
                    <textarea
                      id="description"
                      name="description"
                      rows="3"
                      placeholder="Short blurb that appears in product cards and at the top of the detail page."></textarea>
                  </div>
                </div>

                <div class="form-row">
                  <div>
                    <label for="big_description">
                      Full description
                      <span class="muted">(optional)</span>
                    </label>
                    <textarea
                      id="big_description"
                      name="big_description"
                      rows="6"
                      class="textarea--monospace"
                      placeholder="Long-form description, care instructions, story behind the product, etc."></textarea>
                  </div>
                </div>
              </div>

              <!-- Right column: images, categories, SEO, meta -->
              <aside class="admin-form-column admin-form-column--side">
                <h2 class="admin-panel-subtitle">Extras</h2>
                <p class="muted">
                  Optional details to help customers find and understand the product.
                </p>

                <div class="admin-form-group">
                  <h3 class="admin-form-group-title">Images & categories</h3>

                  <div class="form-row">
                    <div>
                      <label for="image_url">
                        Image URL
                        <span class="muted">(optional)</span>
                      </label>
                      <input
                        id="image_url"
                        name="image_url"
                        type="url"
                        placeholder="https://...">
                      <p class="field-hint muted">
                        TODO: implement image uploads later
                      </p>
                    </div>
                  </div>

                </div>

                <div class="admin-form-group">
                  <h3 class="admin-form-group-title">SEO</h3>

                  <div class="form-row">
                    <div>
                      <label for="seo_title">
                        SEO title
                        <span class="muted">(optional)</span>
                      </label>
                      <input
                        id="seo_title"
                        name="seo_title"
                        type="text"
                        placeholder="Custom &quot;Cozy forest raccoon mug&quot; | Raven's Treasures">
                    </div>
                  </div>

                  <div class="form-row">
                    <div>
                      <label for="seo_description">
                        SEO description
                        <span class="muted">(optional)</span>
                      </label>
                      <textarea
                        id="seo_description"
                        name="seo_description"
                        rows="3"
                        placeholder="A short summary that appears in search results."></textarea>
                    </div>
                  </div>
                </div>

                <div class="admin-form-group">
                  <h3 class="admin-form-group-title">Inventory</h3>

                  <div class="form-row">
                    <div>
                      <label for="sku">
                        SKU / product code
                        <span class="muted">(optional)</span>
                      </label>
                      <input
                        id="sku"
                        name="sku"
                        type="text"
                        autocomplete="off"
                        placeholder="RT-MUG-FOREST-RACCOON">
                    </div>
                  </div>
                </div>
              </aside>
            </div>

            <div class="form-row admin-form-actions">
              <button class="primary" type="submit">
                Create
              </button>
              <button class="ghost" href="/admin/products">
                Cancel
              </button>
            </div>
          </form>
        </section>
      </div>
    </section>
  </main>

  <%- include('../partials/footer') %>
</body>
</html>
